<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="PetMind - æ™ºèƒ½å® ç‰©å¿ƒç†åˆ†æåº”ç”¨">
    <title>PetMind - å® ç‰©å¿ƒç†åˆ†æ</title>
    <link rel="stylesheet" href="style.css">
    
    <!-- Firebase SDK v9+ -->
    <script type="module">
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
        import { getAuth, GoogleAuthProvider } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js';
        
        // TODO: è¯·æ›¿æ¢ä¸ºæ‚¨çš„Firebaseé…ç½®
        const firebaseConfig = {
            apiKey: "AIzaSyBnwsgMmlbyvtXRp-FORZ8_klxBBVEenYE",
            authDomain: "pet-language-recognition.firebaseapp.com",
            projectId: "pet-language-recognition",
            storageBucket: "pet-language-recognition.firebasestorage.app",
            messagingSenderId: "831572117698",
            appId: "1:831572117698:web:4a287a30efb4db4a35535b"
        };
        
        // åˆå§‹åŒ–Firebase
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const provider = new GoogleAuthProvider();
        
        // å°†authå’Œprovideræš´éœ²åˆ°å…¨å±€ï¼Œä¾›app.jsä½¿ç”¨
        window.firebaseAuth = auth;
        window.firebaseProvider = provider;
    </script>
    
    <!-- html2canvasåº“ -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
</head>
<body>
    <!-- å¤´éƒ¨å¯¼èˆª -->
    <header class="header">
        <div class="container">
            <h1 class="logo">ğŸ¾ PetMind</h1>
            <div class="user-section" id="userSection">
                <!-- æœªç™»å½•çŠ¶æ€ -->
                <button class="btn btn-primary" id="loginBtn">Googleç™»å½•</button>
                <!-- å·²ç™»å½•çŠ¶æ€ -->
                <div class="user-info" id="userInfo" style="display: none;">
                    <img class="user-avatar" id="userAvatar" src="" alt="ç”¨æˆ·å¤´åƒ">
                    <span class="user-name" id="userName"></span>
                    <button class="btn btn-secondary" id="logoutBtn">é€€å‡º</button>
                </div>
            </div>
        </div>
    </header>

    <!-- ä¸»è¦å†…å®¹åŒºåŸŸ -->
    <main class="main">
        <div class="container">
            <!-- æœªç™»å½•æç¤ºé¡µé¢ -->
            <section class="welcome-section" id="welcomeSection">
                <div class="welcome-card">
                    <h2>æ¬¢è¿ä½¿ç”¨ PetMind</h2>
                    <p>é€šè¿‡AIåˆ†ææ‚¨çš„å® ç‰©ç…§ç‰‡ï¼Œäº†è§£å®ƒä»¬çš„å¿ƒç†çŠ¶æ€</p>
                    <p class="hint">æ— éœ€ç™»å½•ä¹Ÿå¯ç›´æ¥ä½“éªŒåŠŸèƒ½ï¼›ä½¿ç”¨ Google ç™»å½•å¯ä»¥åŒæ­¥å’Œä¸ªæ€§åŒ–æ‚¨çš„ä½“éªŒã€‚</p>
                </div>
            </section>

            <!-- å·²ç™»å½•åçš„åŠŸèƒ½é¡µé¢ -->
            <section class="app-section" id="appSection">
                <!-- ä¸Šä¼ åŒºåŸŸ -->
                <div class="upload-card">
                    <h2>ä¸Šä¼ å® ç‰©ç…§ç‰‡</h2>
                    <div class="upload-area" id="uploadArea">
                        <input type="file" id="fileInput" accept="image/*,video/*" style="display: none;">
                        <div class="upload-placeholder">
                            <svg class="upload-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                <polyline points="17 8 12 3 7 8"></polyline>
                                <line x1="12" y1="3" x2="12" y2="15"></line>
                            </svg>
                            <p>ç‚¹å‡»æˆ–æ‹–æ‹½æ–‡ä»¶åˆ°æ­¤å¤„ä¸Šä¼ </p>
                            <p class="upload-hint">æ”¯æŒå›¾ç‰‡å’Œè§†é¢‘æ ¼å¼</p>
                        </div>
                        <img id="previewImage" class="preview-image" style="display: none;" alt="é¢„è§ˆ">
                        <video id="previewVideo" class="preview-video" style="display: none;" controls></video>
                    </div>
                    <div class="upload-actions">
                        <button class="btn btn-primary" id="analyzeBtn" disabled>å¼€å§‹åˆ†æ</button>
                        <button class="btn btn-secondary" id="clearBtn" style="display: none;">æ¸…é™¤</button>
                    </div>
                </div>

                <!-- åŠ è½½çŠ¶æ€ -->
                <div class="loading-card" id="loadingCard" style="display: none;">
                    <div class="spinner"></div>
                    <p>AIæ­£åœ¨åˆ†æä¸­ï¼Œè¯·ç¨å€™...</p>
                </div>

                <!-- åˆ†æç»“æœå¡ç‰‡ -->
                <div class="result-card" id="resultCard" style="display: none;">
                    <h2>åˆ†æç»“æœ</h2>
                    <div class="result-content" id="resultContent"></div>
                    <div class="result-actions">
                        <button class="btn btn-primary" id="shareBtn">ç”Ÿæˆåˆ†äº«å›¾</button>
                        <button class="btn btn-secondary" id="newAnalysisBtn">æ–°çš„åˆ†æ</button>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <!-- é¡µè„š -->
    <footer class="footer">
        <div class="container">
            <p class="footer-text">Â© 2024 PetMind. ä½¿ç”¨AIæŠ€æœ¯åˆ†æå® ç‰©è¡Œä¸º</p>
            <!-- TODO: åœ¨æ­¤å¤„æ’å…¥Google AdSenseå¹¿å‘Šä»£ç  -->
            <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9552218040190284"
                crossorigin="anonymous"></script>
            <ins class="adsbygoogle"
                style="display:block"
                data-ad-client="ca-pub-XXXXXXXXXXXXXXXX"
                data-ad-slot="XXXXXXXXXX"
                data-ad-format="auto"></ins>
            <script>
                (adsbygoogle = window.adsbygoogle || []).push({});
            </script>
            <p class="copyright">Â© 2024 PetMind. All rights reserved.</p>
        </div>
    </footer>

    <!-- ä¸»åº”ç”¨é€»è¾‘ -->
    <script type="module" src="app.js"></script>
</body>
</html>
